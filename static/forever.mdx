import CoverText from '@site/src/components/CoverText/CoverText';

<!--
请把这一行和前面的所有内容删掉，再删掉所有的<CoverText>标签
因为你下载并且应该用到的的是.md文件，而不是源文件的.mdx
我用mdx实现了可爱的隐藏字效果，但你不需要(我说的)
-->

# 永恒之息
文档版本 | 4

永恒之息是一款由QHLG创作的桌上卡牌对战游戏，游戏的背景是一个架空世界(你该不会想让我在规则这里展开描述设定吧)<br/>
你可以随意修改卡牌、修改规则或写dlc。等我写出来后我会在这里公开工程文件的

<a href="/forever.mdx" download="永恒之息规则.md">点击下载此页 Markdown 文件</a><br/>

<!-- 
你下载的文件不能保留这个CoverText隐藏字，因为它会变成无效标签
但是如果你，我是说如果你像我一样使用Docusaurus存放你的规则
那么你可以用上下面的东西！
根目录下找到/src/components
创建CoverText文件夹
``` /src/components/CoverText/CoverText.js
import React from 'react';
import styles from './CoverText.module.css';
export default function CoverText({ children, title = "你知道的太多了" }) {
  return (
    <span>
    &nbsp;
    <span className={styles.cover} title={title}>
      {children}
    </span>
    &nbsp;
    </span>
  );
}
```
接下来定义样式
``` /src/components/CoverText/CoverText.module.css
.cover {
  position: relative;
  display: inline-block;
  cursor: pointer;
}
.cover::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--cover-mask-color);
  transition: opacity 0.5s ease;
}
.cover:hover::before {
  opacity: 0;
}
```
那么你什么都不用删除，尽情的像我一样M属性大爆发——萌娘百科吧！
-->

## 游玩人数
2~6人<CoverText>再多我就写不出那么多角色卡了</CoverText>

## 游玩道具
一副卡牌和两个骰子<CoverText>和一些朋友</CoverText>

## 1 游戏流程
### 1.1 游戏准备
#### 1.1.1 定庄定序
选定庄家玩家和一个顺序(例如顺时针)
#### 1.1.2 选取卡牌
从所有特殊角色卡中抽取**玩家数+1**的特殊角色卡，从庄家开始选取一张特殊角色卡作为自身角色<br/>
从所有普通角色卡中抽取**3×玩家数-2**的普通角色卡，从最后一名玩家向庄家方向，再由庄家向最后一名玩家方向选取普通角色卡，总共选取两张作为召唤角色<br/>
##### 选取方式
首先展示可选卡牌，随后玩家手持可选卡牌，选择自己的卡牌并暂时倒置，将剩余卡牌递向下一名玩家，直到选取结束
##### 选取顺序
<img src="../docs/rule1.png" alt="加载不出来!!!我生吃你妈!!!" width="300" />
#### 1.1.3 神秘仪式
各玩家将自身角色倒置于自己区域角色区，并选择一名召唤角色正置于自己区域角色区，另一张召唤角色正置于玩家角色池<br/>
取召唤角色对应血条卡作为生命，自身角色在声明后才需要取血条卡<br/>
玩家可以在这个阶段读他们的神秘咒语，这是规则允许的，不要为此感到羞愧
#### 1.1.4 游戏初始化
各玩家轮流摸取**4张**卡牌并获得**5枚**金币<br/>
玩家初始状态如下(可能在别的地方会提到，在这里汇总)
- 初始手牌 **4牌**
- 手牌上限 **6牌**
- 初始金币 **5枚**
- 金币上限 **20枚**
- 召唤角色上限 **1名**
### 1.2 游戏过程
开始游戏，进入回合，一回合即为一轮玩家回合的总称<br/>
从庄家开始轮流进入玩家回合，玩家回合分为以下阶段
#### 1.2.1 清算阶段
结算回合初触发的效果卡和陷阱卡<br/>
如玩家的自身角色曾正置过且目前倒置，则其变为正置
#### 1.2.2 摸牌阶段
从卡组中摸取**2张**卡牌，并获得**2枚**金币<br/>
可在该阶段一次性支付**2枚**金币以额外摸取**1张**卡牌
#### 1.2.3 声明阶段
玩家可以在本阶段发出[角色声明](#角色声明事件)(注意和陷阱卡声明区分)
#### 1.2.4 出牌阶段
玩家可使用攻击卡向任意角色发动**至多1次**攻击，可使用陷阱卡向任意玩家部署**至多1个**陷阱，可召唤**至多1个角**色，可使用**任意数量**的效果卡，可预备**任意数量**的普通角色卡<br/>
玩家可使用自身角色或召唤角色的主动技能，一回合至多使用**召唤角色上限位**角色的主动技能，被动技能生效不影响此判定<br/>
在出牌阶段也可触发其他事件，另关于上述事件的说明可见
- [陷阱卡操作](#陷阱卡)
- [效果卡操作](#效果卡)
- [技能](#技能)
#### 1.2.5 弃牌阶段
玩家至多同时持有6张手牌，多余牌需弃，可自选弃牌
#### 1.2.6 结算阶段
结算回合末触发的效果卡和陷阱卡<br/>
并且移除玩家效果区所有效果卡
### 1.3 游戏失败
当玩家的自身角色死亡，则游戏失败<br/>
失败玩家区域内所有卡牌和其手牌置入弃牌堆
### 1.4 游戏胜利
当场上玩家剩余**1名**(2\~4人游戏)/**2名**(5\~6人游戏)，这些玩家胜利并结束游戏

## 2 卡牌组成
### 2.1 角色卡
#### 2.1.1 特殊角色卡
强力的角色，作为玩家自身代表的人物，角色的红灰圆内数字代表生命值和基础防御，下同
#### 2.1.2 普通角色卡
普通的角色，作为玩家召唤的人物
### 2.2 攻击卡
有攻击点(左上角红色圆内数字)和属性(右上角紫色圆内文字)，部分攻击卡带有特别的效果
<img src="../docs/catk.png" alt="加载不出来!!!我生吃你妈!!!" width="200" />

### 2.3 防御卡
有防御点(右上角灰色圈内内容)和属性(左上角紫色圆内文字)，部分防御卡带有特别的效果
<img src="../docs/cdef.png" alt="加载不出来!!!我生吃你妈!!!" width="200" />

### 2.4 陷阱卡
可部署在任意玩家区域陷阱区，在满足一定条件时生效的卡牌
<img src="../docs/ctrap.png" alt="加载不出来!!!我生吃你妈!!!" width="200" />

### 2.5 效果卡
使用时会带来特殊的效果的卡牌，持续性效果卡使用后需放置在玩家区域效果区
<img src="../docs/cbuff.png" alt="加载不出来!!!我生吃你妈!!!" width="200" />
<img src="../docs/cbufflong.png" alt="加载不出来!!!我生吃你妈!!!" width="200" />

### 2.6 金币卡
玩家的基础物资，可以用于购买卡牌或进行其他的操作，玩家持有金币数目的上限为**20枚**<br/>
获取金币时如金币数会超过上限则削减至上限，达到上限后无法获取任何金币
<img src="../docs/money1.png" alt="加载不出来!!!我生吃你妈!!!" width="100" />
<img src="../docs/money2.png" alt="加载不出来!!!我生吃你妈!!!" width="100" />
<img src="../docs/money5.png" alt="加载不出来!!!我生吃你妈!!!" width="100" />
<img src="../docs/money10.png" alt="加载不出来!!!我生吃你妈!!!" width="100" />
<img src="../docs/money20.png" alt="加载不出来!!!我生吃你妈!!!" width="100" />

### 2.7 血条卡
角色的生命条，通过用角色卡盖住部分点数显示不同的生命值，血条卡有两行，可以先从一行盖起
<img src="../docs/hp8.png" alt="加载不出来!!!我生吃你妈!!!" width="100" />

## 3 机制
### 3.1 名词表
#### 盘面
盘面包含牌堆、弃牌堆、各玩家区域和玩家手牌，盘面即为游戏，只有盘面内的卡牌才能影响游戏
#### 区域
玩家的区域包括角色区、角色池、效果区、和陷阱区<br/>
角色区中的每个角色各自有效果区，对角色生效的效果须置于角色效果区
#### 手牌
当玩家摸牌时，摸到的卡牌加入玩家手牌，玩家不需要向其他玩家展示自己的手牌
#### 牌堆
在盘面中央供玩家摸牌的一摞牌称为牌堆，牌堆组成内容如下
- 在游戏准备时，选取角色后剩余的角色卡
- 角色卡和金币卡以外的所有牌

如果牌堆摸完，则把弃牌堆洗乱作为新牌堆
#### 弃牌堆
弃牌所形成的一摞牌称为弃牌堆<br/>
若无特殊说明，未进入销毁堆的卡牌均将进入弃牌堆<br/>
也就是说，生效的卡牌和移除的陷阱卡也将进入弃牌堆
#### 销毁堆
死亡或被弃牌的角色卡，在盘面之外，不参与影响游戏
#### 金币堆
所有不在玩家手里的金币卡都在这里
#### 正置
正置状态是卡牌的基础状态，卡面朝上
#### 倒置
倒置的意思是把卡牌翻面(卡背朝上，这样其他玩家就看不到卡面内容)<br/>
当卡牌倒置时
- 不能使用卡牌的技能，且不能作为攻击对象(角色卡)
- 卡牌的效果无效(效果卡)
- 卡牌的效果仍然生效(陷阱卡)
#### 判定
判定的要素包括
- 判定目标
- 判定条件
- 判定影响

角色的技能、效果卡和陷阱卡均有可能发起判定，在满足一定条件时，造成一定的影响<br/>
判定简写为**1d判定**和**2d判定**，分别对应使用1或2个骰子
#### 技能
角色的技能由以下要素组成
- 被动技能
    - 条件(如未说明，则永远生效)
        - 当你受到攻击时
        - 当你在自己回合外失去卡牌时
    - 效果
        - 对全部玩家造成1点伤害
        - 你的手牌上限提升至8(此类效果覆盖上述规则)
        - 进行一次1d判定，结果为奇数时失去1点生命
- 主动技能
    - 代价(即消耗部分资源，可无代价)
        - 支付2枚金币
        - 流失1点生命
    - 限制(如未说明，出牌阶段仅限一次)
        - 可无限制使用
        - 在摸牌阶段使用
        - 在其他人的出牌阶段使用，一回合至多使用一次
    - 效果
        - 扣除114514点生命，获得20枚金币
        - 进行一次2d判定，结果为1时你获得游戏胜利
如未说明，主动技能只能在自己的回合使用

### 3.2 机制表
#### 影响
影响是推动游戏进行的方法，玩家的行动也是影响，影响方式可能有
- 使用角色技能或某张卡牌
- 将某张卡牌移动(例如从手牌移动至弃牌区)
- 改变某张卡牌的状态(如改变角色的生命值或反置某张卡牌)

影响可能导致事件，事件的结果是影响
#### 事件
一个事件可以是攻击事件，也可以是技能事件、效果事件等，分别会对游戏产生一系列的影响，在生效后影响成功，被抵消后影响失败
#### 检定
一个事件等待抵消的状态，如无事件抵消，则事件生效
#### 生效
用于描述一个事件产生的影响成功
#### 抵消
用于描述一个事件被游戏内的其他事件无效化，将不会产生效果
#### 属性
攻击卡和防御卡的属性会对其最终生效时产生的影响造成影响<CoverText>真拗口</CoverText><br/>
具体影响请看卡面描述
#### 陷阱卡
玩家区域可同时存在**至多3张**陷阱卡，当陷阱卡达到上限，则无法再在该玩家区域部署陷阱卡<br/>
在其他玩家区域陷阱卡需要支付**1枚**金币<br/>
部署时或玩家的出牌阶段，玩家可支付**1枚**金币以反置**任意至多1张**陷阱卡<br/>
玩家的出牌阶段，可支付**2枚金币**解除**任意至多1张**陷阱卡<br/>
倒置的陷阱卡仍能生效，玩家可不在目标触发倒置陷阱卡效果时进行陷阱[声明](#声明事件)，但正置陷阱卡触发时须立即生效
#### 效果卡
在其他玩家区域放置持续性效果卡需要支付**1枚**金币，目标可支付**1枚**金币阻止该效果卡的放置，但玩家可额外支付**3枚**金币强行放置<br/>
持续性效果卡类似于陷阱卡，触发时须立即生效
#### 摸取事件
玩家从牌堆摸取卡牌加入自己的手牌
#### 支付事件
<CoverText>当玩家需要支付时，只是支付金币到金币堆，并且找零而已，你觉得还能是什么呢</CoverText>
#### 反置事件
将卡牌的状态在正置与倒置之间切换的动作称为反置
- 正置→倒置 通常使其效果暂时失效(如隐藏陷阱卡、禁用角色技能)
- 倒置→正置 通常重新激活效果(如展示陷阱卡、启用角色技能)
规则中部分描述明确表明了正置或倒置，实际上隐含以下意思<br/>
当卡牌正置或倒置时可以且仅可以在此时反置该卡牌
#### 移除事件
卡牌从盘面其他区域移动至弃牌堆或销毁堆的事件<br/>
例如
- 卡牌生效或被抵消后，进入弃牌堆
- 角色卡因为死亡或弃牌离开游戏，进入销毁堆
#### 触发事件
陷阱卡拥有条件，当玩家满足陷阱卡条件，则陷阱卡触发
#### 声明事件
当一名玩家触发陷阱卡，该陷阱卡的放置者可声明对应玩家触发陷阱<br/>
玩家可声明此牌效果已被触发，此时正置该陷阱卡，如效果被触发，则陷阱卡进入检定<br/>
如效果实际上并没有触发，该牌视为无效<CoverText>如果你欺骗了大家，嘿嘿嘿，那你就别玩了喵\~小\~杂\~鱼~❤</CoverText>，并立即移除对应陷阱卡
#### 攻击事件
攻击事件本质上是一个角色攻击另外一位角色<br/>
在攻击时需声明自己攻击所用角色以免发生效果对象不明确<br/>
通常情况下，一次攻击只能使用一张攻击卡发动攻击<br/>
使用多张攻击卡且出现效果歧义时(如两张卡中一张提升1点攻击点，另一张提升50%攻击点)，取攻击点之和最高的效果顺序<br/>
攻击方率先进行1d判定，随后由防御方进行[操作](#防御力计算)<br/>
最终伤害等于**总攻击力-总防御力**，向下取整，如果该数**小于1**，则伤害**固定为1**<br/>
攻击的目标必须是角色，特别的，当玩家的召唤角色数量**不为0**，攻击的目标不能为其自身角色
##### 攻击力计算
攻击方投掷**1枚**骰子，该点数视为攻击力，总攻击力即为**攻击力+攻击点**<br/>
##### 防御力计算
防御方投掷**1枚**骰子，该点数视为防御力，闪避时视为闪避力<br/>
防御方可使用**至多1张**防御卡阻挡攻击，此时总防御力即为**基础防御+防御力+防御点**<br/>
也可选择闪避，当闪避力大于攻击力，闪避生效且本次攻击被抵消，否则总防御力视为**0**(即使基础防御不为0)
#### 伤害事件
受到伤害的角色须遮盖住血条卡上受到伤害数量的点数
##### 受到伤害
攻击造成的伤害称为攻击伤害<br/>
卡牌或角色技能对敌人造成的直接伤害称为效果伤害<br/>
上述两种伤害统称为受到伤害
##### 生命流失
卡牌或角色技能对自己造成的伤害称为生命流失
#### 回复事件
回复生命的角色须移开血条卡上被遮盖的回复生命的点数<br/>
回复类效果卡、角色技能等可以回复角色的生命值，但不能超过生命值上限
#### 吸血事件
造成伤害时，按伤害值比例回复自己的生命
#### 角色机制
##### 预备事件
玩家可能会抽到角色卡，玩家可预备角色，也就是将角色卡从手牌中置入角色池
##### 召唤事件
出牌阶段，如玩家的召唤角色上限未满，可从角色池中召唤角色到自己的角色区
##### (角色)声明事件
将自身角色正置(这意味着你可以开始使用自身角色的技能)，该过程不可逆，且自身角色一旦正置即失效<br/>
也就是说自身角色一旦从初始的倒置状态变为正置状态，就无法再通过角色声明正置它
##### 死亡事件
当角色生命值降低为**0及以下**，角色进入濒死状态<br/>
任意玩家使用立即恢复类效果卡，且角色生命恢复至**0以上**时，退出濒死状态，否则角色死亡<br/>
当召唤角色死亡，玩家可立即选择角色池内的召唤角色代替上场，如角色池为空且自身卡牌从未正置过，玩家需发出角色声明
##### 击败玩家事件
击杀对方的自身角色后视为击败一名玩家<br/>
当首次击败一名玩家后，可同时存在的召唤角色上限变为**2名**<br/>
##### 角色离场事件
如角色卡因为死亡或弃牌离开游戏，则进入销毁堆
#### 事件冲突
如果一个影响触发了多个事件，请遵循以下优先级处理事件
1. 导致事件发生的事件 > 发生的事件
2. 攻击卡效果＞防御卡效果
3. 当前回合玩家触发的事件优先，其余按从其开始的玩家顺序结算
4. 主动技能效果 > 被动技能效果

<!-- 如果你看到了这句话，那么就有人记住了我，就算没有，我也并不后悔 -->
<CoverText>如果我死了，这就是我的遗嘱，和我将要留给你们的东西</CoverText>